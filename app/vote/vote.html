<div class="container-fluid">
    <h1 class="text-primary">Vote</h1>
    <div class="alert alert-danger" ng-show='vc.getError'>
        Poll does not exist or cannot retreive poll
    </div>
    <div class="well" ng-hide='vc.getError'>
        <h3 id="question">{{ vc.poll.question }}</h3>
        <div class="choices-container">
            <div class='radio'>
                <div data-ng-repeat='(key, value) in vc.poll.choices'>
                    <div ng-click='vc.toggleChoice(key)' class='panel panel-default' style='cursor: pointer'>
                        <div class='panel-body'>
                            <span ng-class='vc.choice == key ? "glyphicon glyphicon-ok" : "blank"'>
                            </span>
                            <span>
                                {{ value.name }}
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <button ng-click='vc.submitVote()' class='btn btn-default' data-toggle="modal" data-target="#myModal" ng-disabled='vc.submitted'>Vote</button>
        <button ng-click="vc.resultsPage()" class="btn btn-default pull-right">Results</button>
    </div>
</div>

<div id="myModal" class="modal" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 ng-class="modal-title">{{ vc.status }}</h4>
            </div>
            <div class="modal-body">
                <div class="container">
                    <a ng-href="#/vote/{{vc.id}}/results" ng-hide='vc.failed' target="_blank">Goto Result</a>
                </div>
            </div>
            <div class="modal-body" ng-show='vc.failed'>
                <div class="alert alert-danger" role="alert">Something went wrong</div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

